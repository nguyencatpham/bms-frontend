(this["webpackJsonpvisual-builder-react-cra"]=this["webpackJsonpvisual-builder-react-cra"]||[]).push([[21],{394:function(e,t,c){},555:function(e,t,c){"use strict";c.r(t);var i=c(1),a=c(7),s=c.n(a),n=c(67),r=c(39),l=c(561),d=c(560),o=c(60),j=c(569),u=c(0),b=c(27),f=c(32),p=(c(394),c(146)),O=c(430),h=c.n(O),g=l.a.Item;t.default=Object(f.i)(Object(b.c)((function(e){var t=e.device,c=(e.authDevice,e.user,e.dispatch),i=t.detail;return{detail:void 0===i?{}:i,dispatch:c}}))((function(e){var t=e.detail,c=e.dispatch,a=Object(f.g)(),b=Object(f.h)().id,O=l.a.useForm(),m=Object(r.a)(O,1)[0],v=Object(u.useState)([]),x=Object(r.a)(v,2),y=x[0],N=x[1],w=Object(u.useState)(t.config),L=Object(r.a)(w,2),F=L[0],D=L[1],k=function(){var e=Object(n.a)(s.a.mark((function e(t){var c,i,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.file,N([c]),e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(c.originFileObj),t.onload=function(){return e(t.result)}}));case 4:i=e.sent,a=atob(i.substring(29)),n=JSON.parse(a),D(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){c({type:"device/DETAIL",payload:{id:b}})}),[b,c]),Object(u.useEffect)((function(){D(t.config)}),[t.config]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"detail-page device-create-page",children:[Object(i.jsx)(p.a,{title:"Thi\u1ebft b\u1ecb | Load config"}),Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsx)("div",{className:"card-bg detail-form-wrap",children:Object(i.jsxs)(l.a,{className:"detail-form",onFinish:function(e){c({type:"device/UPLOAD_CONFIG",payload:{id:b,body:{config:F}}})},form:m,children:[Object(i.jsx)(g,{className:"display-grid grid-row",name:"file",label:"Ch\u1ecdn file config \u0111\u1ec3 upload file config.json",rules:[{required:!0,message:"Vui l\xf2ng upload file config.json!"}],children:Object(i.jsx)(d.a,{action:null,onChange:k,fileList:y,accept:"application/JSON",multiple:!1,children:Object(i.jsx)(o.a,{icon:Object(i.jsx)(j.a,{}),children:"Upload"})})}),Object(i.jsxs)("div",{className:"text-right fl-right btn-footer btn-group-footer",children:[Object(i.jsxs)(o.a,{type:"dashed",onClick:function(){return a.push("/devices")},children:[Object(i.jsx)("i",{className:"i_cancel ico25"}),Object(i.jsx)("strong",{children:"H\u1ee7y"})]}),Object(i.jsxs)(o.a,{type:"primary",style:{marginLeft:10},htmlType:"submit",children:[Object(i.jsx)("i",{className:"i_save_36 ico25"}),Object(i.jsx)("strong",{children:"L\u01b0u"})]})]})]})}),Object(i.jsx)("div",{className:"card-content json-view",style:{marginLeft:150},children:Object(i.jsx)("div",{className:"card-bg detail-form-wrap",children:Object(i.jsx)("div",{className:"display-grid grid-row",children:Object(i.jsx)(h.a,{src:F,name:!1,displayDataTypes:!1,quotesOnKeys:!1,displayArrayKey:!1})})})})]})]})})})))}}]);